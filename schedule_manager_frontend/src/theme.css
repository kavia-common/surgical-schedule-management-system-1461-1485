 /* Ocean Professional Theme Tokens and base styles (modernized) */
:root {
  /* Colors */
  --color-primary: #2563EB;
  --color-accent: #F59E0B;
  --color-success: #10B981;
  --color-error: #EF4444;
  --color-bg: #f9fafb;
  --color-surface: #ffffff;
  --color-text: #111827;

  /* Subtle tints */
  --muted: #6b7280;
  --border: #e5e7eb;
  --blue-25: rgba(37,99,235,0.05);
  --blue-50: rgba(59,130,246,0.08);
  --amber-50: rgba(245,158,11,0.08);
  --purple: #7C3AED;
  --teal: #0d9488;

  /* Elevation and radius */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 14px;
  --shadow-xs: 0 1px 1px rgba(0,0,0,0.04);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --focus-ring: 0 0 0 2px #2563EB;

  /* Layout */
  --panel-left-width: 340px;
  --panel-right-width: 380px;
}

/* Smooth interactions */
* {
  transition: background-color .2s ease, border-color .2s ease, box-shadow .2s ease, color .2s ease;
}

/* Global resets + typography */
html, body, #root { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--color-bg);
  color: var(--color-text);
  line-height: 1.5;
}
button, [role="button"], [tabindex] { outline: none; }
:focus-visible { box-shadow: var(--focus-ring); outline: none; }

/* App shell */
.app-shell { display: grid; grid-template-rows: auto 1fr auto; height: 100%; }
.app-shell.single { grid-template-rows: 1fr; }
.single-main { padding: 16px; height: 100%; display: flex; flex-direction: column; min-height: 0; gap: 12px; }

/* Buttons */
.btn {
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  background: #fff;
  padding: 10px 14px;
  cursor: pointer;
  box-shadow: var(--shadow-xs);
  transform: translateZ(0);
}
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.btn:active { transform: translateY(0); }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn-primary {
  background: linear-gradient(180deg, #2563EB, #1d4ed8);
  color: #fff;
  border-color: transparent;
}
.btn-primary:hover { filter: brightness(1.02); box-shadow: 0 6px 16px rgba(37,99,235,0.25); }
.btn-ghost { background: transparent; border-color: var(--border); }
.btn-ghost:hover { background: var(--blue-25); }

/* Inputs */
.select, .input, textarea.input {
  width: 100%;
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  padding: 10px 12px;
  background: #fff;
  box-shadow: var(--shadow-xs) inset;
}
.select:focus-visible, .input:focus-visible, textarea.input:focus-visible {
  box-shadow: var(--focus-ring);
  border-color: #c7d2fe;
}

/* Chips and pills */
.chips { display: flex; gap: 8px; flex-wrap: wrap; }
.chip {
  border-radius: 999px;
  padding: 5px 10px;
  font-size: 12px;
  border: 1px solid var(--border);
  background: #fff;
  box-shadow: var(--shadow-xs);
}
.chip-blue { background: var(--blue-50); color: var(--color-primary); }
.chip-amber { background: var(--amber-50); color: #92400e; border-color: rgba(245,158,11,0.3); }
.chip-purple { background: rgba(124,58,237,0.1); color: #5b21b6; border-color: rgba(124,58,237,0.2); }
.chip-teal { background: rgba(13,148,136,0.1); color: #0f766e; border-color: rgba(13,148,136,0.2); }

/* Panels */
.panel {
  background: var(--color-surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

/* Toolbar/segmented */
.toolbar .segmented, .segmented {
  display: inline-flex;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 3px;
  background: #fff;
  box-shadow: var(--shadow-xs) inset;
}
.segmented button {
  background: transparent;
  border: 0;
  border-radius: 9px;
  padding: 8px 12px;
  cursor: pointer;
  color: var(--muted);
}
.segmented button[aria-selected="true"] {
  background: var(--blue-50);
  color: var(--color-primary);
  font-weight: 700;
  border: 1px solid rgba(37,99,235,0.25);
}

/* Calendar common */
.calendar-toolbar {
  padding: 12px 16px;
  border-bottom: 1px solid var(--border);
  display: flex;
  gap: 12px;
  align-items: center;
  background: linear-gradient(180deg, #fff, rgba(255,255,255,0.94));
}
.calendar {
  position: relative;
  flex: 1;
  overflow: auto;
  background: linear-gradient(180deg, var(--blue-50), transparent 220px);
}
.timegrid { display: grid; grid-template-columns: 72px 1fr; min-height: 720px; }
.hours { border-right: 1px solid var(--border); background: #fff; }
.hour {
  height: 52px;
  font-size: 12px;
  color: var(--muted);
  padding: 6px 8px;
  border-bottom: 1px dashed var(--border);
}
.columns { position: relative; }
.day-columns { display: grid; grid-template-columns: repeat(5, 1fr); border-left: 1px solid var(--border); }
.day-col {
  position: relative;
  min-height: 100%;
  border-right: 1px solid var(--border);
  background: #fff;
}
.gridline { position: absolute; left: 0; right: 0; height: 1px; background: rgba(0,0,0,0.06); }

/* Event blocks */
.event {
  position: absolute; left: 8px; right: 8px;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  background: #fff;
  overflow: hidden;
  cursor: grab;
}
.event-header {
  display: flex; align-items: center; gap: 8px;
  background: linear-gradient(180deg, #2563EB, #1e40af);
  color: #fff; font-weight: 700;
  padding: 8px 12px; font-size: 13px;
}
.event-left-stripe { position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background: linear-gradient(180deg, #f59e0b, #fbbf24); }
.event-body { padding: 10px 12px; display: grid; gap: 6px; }
.chips-row { display: flex; flex-wrap: wrap; gap: 6px; }
.chip-blue { background: var(--blue-50); color: var(--color-primary); }
.chip-amber { background: var(--amber-50); color: #92400e; border-color: rgba(245,158,11,0.3); }
.chip-purple { background: rgba(124,58,237,0.1); color: #5b21b6; border-color: rgba(124,58,237,0.2); }
.chip-teal { background: rgba(13,148,136,0.1); color: #0f766e; border-color: rgba(13,148,136,0.2); }
.event.conflict { border-color: var(--color-error); box-shadow: 0 0 0 2px rgba(239,68,68,0.5) inset; }
.badge {
  font-size: 11px; padding: 2px 8px; border-radius: 999px; border: 1px solid currentColor;
  color: var(--color-error); background: rgba(239,68,68,0.08); display: inline-flex; align-items: center; gap: 4px;
}

/* ICU Calendar (Schedule ICU tab) */
.icu-scheduler { display: grid; grid-template-rows: auto 1fr; height: 100%; }
.icu-header {
  display: grid; grid-template-columns: 48px 1fr auto; align-items: center; gap: 8px;
  padding: 14px 18px; background: var(--color-surface);
  border-bottom: 1px solid var(--border);
  position: sticky; top: 0; z-index: 1;
  box-shadow: var(--shadow-xs);
}
.icu-title { margin: 0; font-size: 20px; font-weight: 700; letter-spacing: .2px; }
.nav-btn {
  width: 36px; height: 36px; border-radius: 999px; border: 1px solid var(--border); background: #fff; cursor: pointer;
}
.nav-btn:hover { background: var(--blue-50); }

.icu-board { display: grid; grid-template-rows: 56px 1fr; overflow: hidden; }
.icu-columns-header {
  display: grid; grid-template-columns: 96px repeat(7, 1fr);
  border-bottom: 1px solid var(--border); background: #fff; position: sticky; top: 0; z-index: 1;
}
.axis-blank { border-right: 1px solid var(--border); }
.day-head { display: grid; place-items: center; padding: 10px 0; color: var(--muted); font-size: 12px; font-weight: 700; letter-spacing: .2px; }
.day-head-inner { display: inline-flex; gap: 6px; align-items: baseline; }
.day-head .daynum { font-weight: 700; color: var(--color-text); }

.icu-time-grid { display: grid; grid-template-columns: 96px 1fr; min-height: 0; }
.icu-time-axis { border-right: 1px solid var(--border); background: #fff; overflow: hidden; }
.icu-hour-label { height: 56px; font-size: 12px; color: var(--muted); padding: 6px 8px; text-align: right; border-bottom: 1px solid var(--border); }

.icu-grid-scroll { overflow-y: auto; position: relative; background: linear-gradient(180deg, #ffffff, var(--blue-50) 240px, transparent 480px); }
.icu-grid-canvas { position: relative; display: grid; grid-template-columns: repeat(7, 1fr); background: linear-gradient(180deg, #fff, #fff) padding-box; }

.icu-day-col { position: relative; border-right: 1px solid var(--border); }
.icu-hour-row {
  position: relative; border-bottom: 1px solid var(--grid-line, #E8EEF7);
  background: repeating-linear-gradient(to bottom, transparent 0, transparent calc(56px / 2 - 1px), rgba(62,142,255,0.15) calc(56px / 2), transparent calc(56px / 2 + 1px), transparent 56px);
  display: grid; grid-template-columns: 1fr 1fr;
}
.icu-cell { appearance: none; border: 0; background: transparent; width: 100%; height: 100%; cursor: pointer; }
.icu-cell:hover, .icu-cell:focus-visible { outline: none; background: rgba(62, 142, 255, 0.08); }
.icu-cell.half { border-left: 1px dashed rgba(0,0,0,0.06); }

.icu-events-layer { pointer-events: none; position: absolute; inset: 0; display: grid; grid-template-columns: repeat(7, 1fr); }
.icu-event-card { pointer-events: auto; position: absolute; border-radius: 12px; box-shadow: var(--shadow-sm); overflow: hidden; color: #fff; }
.icu-event-card .rail {
  position: absolute; left: 0; top: 8px; bottom: 8px; width: 3px; background:
    repeating-linear-gradient(to bottom, #3E8EFF, #3E8EFF 3px, transparent 3px, transparent 7px);
}
.icu-event-card .card-body { padding: 10px 12px; }
.icu-event-card .card-title { font-size: 13px; font-weight: 700; letter-spacing: .2px; }
.icu-event-card .card-sub { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 6px; }
.pill { font-size: 11px; font-weight: 700; padding: 2px 8px; border-radius: 14px; color: #fff; background: rgba(255,255,255,0.18); border: 1px solid rgba(255,255,255,0.22); }
.pill-amber { background: var(--color-accent); color: #111; border-color: rgba(245,158,11,0.6); }
.pill-blue { background: var(--color-primary); color: #fff; border-color: rgba(37,99,235,0.5); }
.icu-event-card.status-upcoming { background: var(--accent-primary, #6772E5); }
.icu-event-card.status-running { background: #3E8EFF; }
.icu-event-card.status-completed { background: #475569; }
.icu-event-card.status-cancelled { background: #E85D75; }

/* Modal (forms/popups) */
.icu-modal { position: fixed; inset: 0; background: rgba(17, 24, 39, 0.35); display: grid; place-items: center; z-index: 50; }
.icu-dialog-wrap {
  background: var(--color-surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  width: 95%; max-width: 600px;
}
.icu-dialog { display: grid; grid-template-rows: auto 1fr auto; }
.icu-dialog-header { padding: 14px 18px; border-bottom: 1px solid var(--border); background: linear-gradient(180deg, #fff, rgba(255,255,255,0.96)); }
.icu-dialog-header h2 { margin: 0; font-size: 20px; font-weight: 700; }
.icu-dialog-body { padding: 14px 18px; display: grid; gap: 12px; }
.icu-dialog-actions { padding: 14px 18px; border-top: 1px solid var(--border); display: flex; justify-content: flex-end; gap: 10px; }
.row.two { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.fld { display: grid; gap: 6px; }
.lbl { font-size: 12px; color: var(--muted); }

@media (max-width: 768px) {
  .row.two { grid-template-columns: 1fr; }
  .icu-dialog-wrap { width: 100%; height: 100%; border-radius: 0; }
}

/* Left panel (filters + resources) */
.sidebar-header { padding: 14px 16px 8px 16px; border-bottom: 1px solid var(--border); background: #fff; }
.filters { padding: 12px 16px; display: grid; gap: 10px; }
.filters .row { display: grid; grid-template-columns: 1fr auto; gap: 10px; }
.resource-search { padding: 12px 16px; border-top: 1px solid var(--border); background: #fff; }
.resource-list { overflow: auto; padding: 8px 0; }
.resource-item {
  display: grid; grid-template-columns: 20px 1fr auto; gap: 10px; align-items: center;
  padding: 10px 14px; cursor: grab; border-top: 1px solid var(--border);
}
.resource-item:hover { background: rgba(0,0,0,0.02); }
.resource-item:focus-visible { outline: none; box-shadow: var(--focus-ring) inset; }
.status-dot { width: 10px; height: 10px; border-radius: 50%; }
.status-avail { background: var(--color-success); }
.status-busy { background: var(--color-accent); }
.status-down { background: var(--color-error); }
.status-standby { background: var(--purple); }
.role-pill { font-size: 11px; padding: 3px 8px; border-radius: 999px; border: 1px solid var(--border); color: var(--muted); }

/* Right panel */
.right-header { padding: 14px 16px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; background: #fff; }
.tabs { display: flex; gap: 6px; padding: 10px 10px 0 10px; border-bottom: 1px solid var(--border); background: #fff; }
.tab { border: 0; background: transparent; padding: 10px 12px; cursor: pointer; color: var(--muted); border-bottom: 2px solid transparent; font-weight: 600; }
.tab:hover { color: var(--color-text); background: var(--blue-25); border-radius: 8px 8px 0 0; }
.tab[aria-selected="true"] { color: var(--color-primary); border-bottom-color: var(--color-primary); }
.right-body { padding: 14px 16px; overflow: auto; display: grid; gap: 12px; background: linear-gradient(180deg, #fff, rgba(255,255,255,0.96)); }
.section { border: 1px solid var(--border); border-radius: var(--radius-md); padding: 12px; background: #fff; box-shadow: var(--shadow-xs); }
.section h4 { margin: 0 0 8px 0; font-weight: 700; }

/* Footer */
.footer {
  padding: 12px 18px;
  background: linear-gradient(90deg, rgba(59,130,246,0.08), rgba(249,250,251,1));
  border-top: 1px solid var(--border);
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
}
.legend { display: flex; gap: 16px; flex-wrap: wrap; align-items: center; font-size: 13px; }
.legend-item { display: inline-flex; align-items: center; gap: 6px; }
.legend-dot { width: 10px; height: 10px; border-radius: 50%; }
.legend-blue { background: var(--color-primary); }
.legend-teal { background: var(--teal); }
.legend-amber { background: var(--color-accent); }
.legend-purple { background: var(--purple); }
.legend-red { background: var(--color-error); }
.footer-actions { display: inline-flex; gap: 10px; }

/* Now Available snapshot */
.now-available {
  margin: 16px;
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  background: linear-gradient(90deg, rgba(16,185,129,0.06), rgba(249,250,251,1));
  box-shadow: var(--shadow-sm);
  display: grid;
  gap: 8px;
}
.now-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 16px; border-bottom: 1px solid var(--border); background: #fff;
}
.now-title { display: inline-flex; align-items: center; gap: 10px; font-weight: 800; color: var(--color-text); }
.now-dot {
  width: 10px; height: 10px; border-radius: 50%;
  background: var(--color-success); box-shadow: 0 0 0 4px rgba(16,185,129,0.15);
}
.now-meta { font-size: 12px; color: var(--muted); }
.now-body {
  display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
  padding: 12px 16px 16px 16px;
  background: linear-gradient(180deg, rgba(37,99,235,0.04), transparent 140px);
}
.now-group-title { display: inline-flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 800; color: var(--color-text); margin-bottom: 6px; }
.now-chips { display: flex; flex-wrap: wrap; gap: 8px; }
.now-empty { font-size: 12px; color: var(--muted); }
@media (max-width: 768px) { .now-body { grid-template-columns: 1fr; } }

/* Responsive */
@media (max-width: 1280px) {
  .main { grid-template-columns: var(--panel-left-width) 1fr; }
  .panel.right { display: none; }
}
@media (max-width: 768px) {
  .topbar-inner { grid-template-columns: 1fr; gap: 8px; }
  .toolbar { grid-template-columns: 1fr; }
  .main { grid-template-columns: 1fr; }
  .panel.left { order: 1; }
  .panel.center { order: 2; }
  .panel.right { order: 3; display: none; }
  .footer { grid-template-columns: 1fr; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .btn:hover { transform: none; }
  * { transition: none !important; }
}
