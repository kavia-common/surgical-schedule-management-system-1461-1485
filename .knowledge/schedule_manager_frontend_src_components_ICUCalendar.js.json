{"is_source_file": true, "format": "JavaScript (JSX/React)", "description": "Source file for ICUCalendar component in a ICU scheduling system. Implements a week-view calendar with booking modal, resource loading, and event rendering.", "external_files": ["../services/api"], "external_methods": ["api.listResources", "api.listCases", "api.createCase"], "published": [], "classes": [], "methods": [{"name": "ICUCalendar()", "description": "Main React component rendering ICU scheduling week view, handling state, loading data, and user interactions.", "scope": "", "scopeKind": ""}, {"name": "DayColumn({ date, hourRowHeight, onCellClick })", "description": "Component rendering each day column with hourly clickable cells for booking.", "scope": "", "scopeKind": ""}, {"name": "Modal({ children, onClose })", "description": "Reusable modal component with focus trap for booking form.", "scope": "", "scopeKind": ""}, {"name": "getStartOfWeek(date)", "description": "Utility to get the Monday of the current week for a given date.", "scope": "", "scopeKind": ""}, {"name": "addDays(d, n)", "description": "Utility to add specified days to a date.", "scope": "", "scopeKind": ""}, {"name": "addMinutes(d, n)", "description": "Utility to add specified minutes to a date.", "scope": "", "scopeKind": ""}, {"name": "dayIndexFromDate(d, weekStart)", "description": "Utility to determine day index (0-6) within a week given a date and start of week.", "scope": "", "scopeKind": ""}, {"name": "stripTime(d)", "description": "Utility to remove time component from a date, setting hours, minutes, seconds, milliseconds to zero.", "scope": "", "scopeKind": ""}, {"name": "formatHourLabel(h)", "description": "Utility to format an hour in 12-hour AM/PM format.", "scope": "", "scopeKind": ""}, {"name": "formatTime(d)", "description": "Utility to format a Date object into a localized string with hour and minute.", "scope": "", "scopeKind": ""}, {"name": "toLocalDate(d)", "description": "Converts a Date to YYYY-MM-DD string for input value.", "scope": "", "scopeKind": ""}, {"name": "toLocalTime(d)", "description": "Converts a Date to HH:MM string for input value.", "scope": "", "scopeKind": ""}, {"name": "combineLocalDateTime(dateStr, timeStr)", "description": "Combines date string and time string into ISO formatted datetime string.", "scope": "", "scopeKind": ""}, {"name": "pickNameById(items, id)", "description": "Finds name field of resource by id from given list.", "scope": "", "scopeKind": ""}, {"name": "statusClass(s)", "description": "Returns CSS class name based on booking status.", "scope": "", "scopeKind": ""}, {"name": "labelStatus(s)", "description": "Returns display label for booking status.", "scope": "", "scopeKind": ""}, {"name": "computeHeight(start, end)", "scope": "ICUCalendar", "scopeKind": "function", "description": "unavailable"}, {"name": "computeTop(dt)", "scope": "ICUCalendar", "scopeKind": "function", "description": "unavailable"}, {"name": "nextWeek()", "scope": "ICUCalendar", "scopeKind": "function", "description": "unavailable"}, {"name": "onCellClick(day, hour, minute)", "scope": "ICUCalendar", "scopeKind": "function", "description": "unavailable"}, {"name": "onKey(e)", "scope": "Modal", "scopeKind": "function", "description": "unavailable"}, {"name": "onSaveBooking(e)", "scope": "ICUCalendar", "scopeKind": "function", "description": "unavailable"}, {"name": "prevWeek()", "scope": "ICUCalendar", "scopeKind": "function", "description": "unavailable"}, {"name": "thisWeek()", "scope": "ICUCalendar", "scopeKind": "function", "description": "unavailable"}], "calls": ["api.listResources", "api.listCases", "api.createCase"], "search-terms": ["ICUCalendar", "week-view ICU scheduling", "booking modal", "resource loading", "event rendering", "React ICU scheduling"], "state": 2, "file_id": 23, "knowledge_revision": 61, "git_revision": "43c9317c51e32bd3ff0a726007960682846a7e0c", "ctags": [{"_type": "tag", "name": "DayColumn", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function DayColumn({ date, hourRowHeight, onCellClick }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ date, hourRowHeight, onCellClick })"}, {"_type": "tag", "name": "ICUCalendar", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^export default function ICUCalendar() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Modal", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function Modal({ children, onClose }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children, onClose })"}, {"_type": "tag", "name": "addDays", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function addDays(d, n) {$/", "language": "JavaScript", "kind": "function", "signature": "(d, n)"}, {"_type": "tag", "name": "addMinutes", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function addMinutes(d, n) {$/", "language": "JavaScript", "kind": "function", "signature": "(d, n)"}, {"_type": "tag", "name": "combineLocalDateTime", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function combineLocalDateTime(dateStr, timeStr) {$/", "language": "JavaScript", "kind": "function", "signature": "(dateStr, timeStr)"}, {"_type": "tag", "name": "computeHeight", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^  function computeHeight(start, end) {$/", "language": "JavaScript", "kind": "function", "signature": "(start, end)", "scope": "ICUCalendar", "scopeKind": "function"}, {"_type": "tag", "name": "computeTop", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^  function computeTop(dt) {$/", "language": "JavaScript", "kind": "function", "signature": "(dt)", "scope": "ICUCalendar", "scopeKind": "function"}, {"_type": "tag", "name": "dayIndexFromDate", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function dayIndexFromDate(d, weekStart) {$/", "language": "JavaScript", "kind": "function", "signature": "(d, weekStart)"}, {"_type": "tag", "name": "end", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        end: endISO,$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "formatHourLabel", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function formatHourLabel(h) {$/", "language": "JavaScript", "kind": "function", "signature": "(h)"}, {"_type": "tag", "name": "formatTime", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function formatTime(d) {$/", "language": "JavaScript", "kind": "function", "signature": "(d)"}, {"_type": "tag", "name": "getStartOfWeek", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function getStartOfWeek(date) {$/", "language": "JavaScript", "kind": "function", "signature": "(date)"}, {"_type": "tag", "name": "labelStatus", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function labelStatus(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "nextWeek", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^  function nextWeek() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ICUCalendar", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        notes: form.notes || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "onCellClick", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^  function onCellClick(day, hour, minute) {$/", "language": "JavaScript", "kind": "function", "signature": "(day, hour, minute)", "scope": "ICUCalendar", "scopeKind": "function"}, {"_type": "tag", "name": "onKey", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^    function onKey(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "Modal", "scopeKind": "function"}, {"_type": "tag", "name": "onSaveBooking", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^  async function onSaveBooking(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "ICUCalendar", "scopeKind": "function"}, {"_type": "tag", "name": "or", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        or: pickNameById(rooms, form.roomId),$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "patient", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        patient: form.patientName,$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "patientId", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        patientId: form.patientId || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^      const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "ICUCalendar.onSaveBooking", "scopeKind": "class"}, {"_type": "tag", "name": "pickNameById", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function pickNameById(items, id) {$/", "language": "JavaScript", "kind": "function", "signature": "(items, id)"}, {"_type": "tag", "name": "prevWeek", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^  function prevWeek() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ICUCalendar", "scopeKind": "function"}, {"_type": "tag", "name": "ref", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        ref={ref}$/", "language": "JavaScript", "kind": "field", "scope": "Modal.ref", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        start: startISO,$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        status: form.status,$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "statusClass", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function statusClass(s) {$/", "language": "JavaScript", "kind": "function", "signature": "(s)"}, {"_type": "tag", "name": "stripTime", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function stripTime(d) {$/", "language": "JavaScript", "kind": "function", "signature": "(d)"}, {"_type": "tag", "name": "surgeon", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        surgeon: pickNameById(doctors, form.doctorId),$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "thisWeek", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^  function thisWeek() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ICUCalendar", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^        title: \"ICU Booking\",$/", "language": "JavaScript", "kind": "property", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class"}, {"_type": "tag", "name": "toLocalDate", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function toLocalDate(d) {$/", "language": "JavaScript", "kind": "function", "signature": "(d)"}, {"_type": "tag", "name": "toLocalTime", "path": "/home/kavia/workspace/code-generation/surgical-schedule-management-system-1461-1485/schedule_manager_frontend/src/components/ICUCalendar.js", "pattern": "/^function toLocalTime(d) {$/", "language": "JavaScript", "kind": "function", "signature": "(d)"}], "hash": "c6b34de456389d7556bb9503ac3b35ec", "format-version": 4, "code-base-name": "schedule_manager_frontend", "filename": "schedule_manager_frontend/src/components/ICUCalendar.js", "fields": [{"name": "end: endISO,", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "notes: form.notes || undefined,", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "or: pickNameById(rooms, form.roomId),", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "patient: form.patientName,", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "patientId: form.patientId || undefined,", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={ref}", "scope": "Modal.ref", "scopeKind": "class", "description": "unavailable"}, {"name": "start: startISO,", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "status: form.status,", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "surgeon: pickNameById(doctors, form.doctorId),", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "title: \"ICU Booking\",", "scope": "ICUCalendar.onSaveBooking.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"61": "43c9317c51e32bd3ff0a726007960682846a7e0c"}]}